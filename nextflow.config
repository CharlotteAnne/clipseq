/*
 * -------------------------------------------------
 *  Nextflow config file
 * -------------------------------------------------
 * Temp config for DSL1 port
 */
 
includeConfig 'conf/igenomes.config'
includeConfig 'conf/local-test.config'
includeConfig 'conf/smRNA.config'

// Container slug. Stable releases should specify release tag!
// Developmental code should specify :dev
// process.container = 'nfcore/clipseq:dev'
process.container = 'luslab/nf-core-clipseq-1.0dev:latest' // to change on transfer to nf-core

params {
  // Taken from luslab-nf-modules/configs/luslab-base.config
  append_outdir = true // Append timestamp to results folder
  outdir = './results' // Results output directory location
  verbose = true

  // iGenomes and stored smRNA (by species)
  genome = "" //Name of iGenomes reference
  fasta = "" //Path to genome fasta file
  smRNA_species = ""
  smRNA_path = ""
  igenomes_base = 's3://ngi-igenomes/igenomes/'

  // Process Specific
  'cutadapt' {
    args             = "-j 8 -a AGATCGGAAGAGC -m 12"
    suffix           = ".trimmed"
    publish_dir      = "cutadapt"
    publish_results  = "all"
  }

  'star_align_reads' {
    args                 = "--outFilterMultimapNmax 1 \
                            --outFilterMultimapScoreRange 1 \
                            --outSAMattributes All \
                            --alignSJoverhangMin 8 \
                            --alignSJDBoverhangMin 1 \
                            --outFilterType BySJout \
                            --alignIntronMin 20 \
                            --alignIntronMax 1000000 \
                            --outFilterScoreMin 10  \
                            --alignEndsType Extend5pOfRead1 \
                            --twopassMode Basic \
                            --outSAMtype BAM SortedByCoordinate"
    publish_dir          = "star_align_reads"
    publish_results      = "all"
    sjdbGTFfile          = ""
    sjdbFileChrStartEnd  = ""
    varVCFfile           = ""
  }

  'umi_tools' {
    suffix           = ".dedup"
    args             = '--umi-separator=":"'
    publish_dir      = "dedup"
  }

  'get_crosslinks' {
    suffix           = ".xl"
    publish_dir      = "get_crosslinks"
    publish_results  = "all"
  }

  'bowtie2_align' {
    args             = ""
    suffix           = ".rRNA_tRNA"
    publish_dir      = "bowtie2"
    publish_results  = "all"
    unmapped_suffix  = ".unmapped"
    output_sam       = false
  }

  'fastqc' {
    args             = ""
    suffix           = ""
    publish_dir      = "fastqc"
    publish_results  = "all"
}

}
